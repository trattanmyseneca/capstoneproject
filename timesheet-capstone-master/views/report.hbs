<!DOCTYPE html>
<html>

<head>
    <title>TimeSheet</title>
    <meta charset="UTF-8" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />

    <link rel="stylesheet" href="./css/utils.css" />
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.7.1/css/buttons.dataTables.min.css" />
</head>

<body>
    {{> mainHeader user}}

    <div class="container">
        <div class="row">
            <main class="col-md-12 mt-3">
<div style="text-align: center;"><h4>{{error}}</h4></div>
                <h2>Report</h2>

                <hr />
                <form method="POST" action="/fetchReports">
                    <fieldset>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>UserName:</label>
                                    <input readonly=readonly class="form-control" value="{{userName}}" name="userName"
                                        type="text" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Date From:</label>
                                    <input class="form-control" value="{{startDate}}" name="startDate" type="date" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Date To:</label>
                                    <input class="form-control" value="{{endDate}}" name="endDate" type="date" />
                                </div>
                            </div>
                        </div>
                    </fieldset>
                    <hr />

                    <input type="submit" class="btn btn-primary float-right" value="Submit" /><br /><br /><br />
                </form>
                {{!--
                <script id="template" type="text/x-handlebars-template"> --}}
                <table class="table" style="color: initial;">
                    <thead>
                        <tr>
                            <th>UserName</th>
                            <th>StartDate</th>
                            <th>EndDate</th>
                            <th>BreakTime</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{!-- {{#if hasCars}} --}}
                        {{#each attendance}}
                        <tr>
                            <td>{{username}}</td>
                            <td>{{start_date}}</td>
                            <td>{{end_date}}</td>
                            <td>{{break_time}}</td>
                        </tr> 
                        {{else}}
                        <tr><td colspan="4">No data was found!</td></tr>
                        {{/each}}
                        {{!-- {{/if}} --}}
                        
                    </tbody>
                </table>
{{!-- </script> --}}
            </main>
        </div>
    </div>
    {{> footer user}}


    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

    <script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>

    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.html5.min.js"></script>


    <script>
        $(document).ready(function () {
            $('table').DataTable({
                paginate: false,
                dom: 'Bfrtip',
                buttons: [
                    'excelHtml5',
                    'csvHtml5'
                ]
            });
        });
    </script>
</body>

</html>